CREATE TABLE endereco(
id serial PRIMARY KEY NOT NULL,
rua VARCHAR(255) NOT NULL,
cep VARCHAR(8) NOT NULL,
numero VARCHAR(10) NOT NULL,
bairro VARCHAR(255) NOT NULL,
cidade VARCHAR(255) NOT NULL,
estado VARCHAR(2) NOT NULL
);

CREATE TABLE funcionario(
id serial PRIMARY KEY NOT NULL,
nome VARCHAR(255) NOT NULL,
cpf VARCHAR(11) UNIQUE NOT NULL,
cargo VARCHAR(255) NOT NULL,
login VARCHAR(50) UNIQUE NOT NULL,
senha VARCHAR(25) NOT NULL
);

CREATE TABLE caixa(
id serial PRIMARY KEY NOT NULL,
entrada DOUBLE PRECISION,
saida DOUBLE PRECISION,
saldo DOUBLE PRECISION
);

CREATE TABLE produto(
id serial PRIMARY KEY,
Nome VARCHAR(255) NOT NULL,
marca VARCHAR(255) NOT NULL,
descricao VARCHAR(255) NOT NULL
);

CREATE TABLE cliente(
id serial PRIMARY KEY,
nome VARCHAR(255) NOT NULL,
cpf VARCHAR(11) UNIQUE NOT NULL,
sexo VARCHAR(20),
estado_civil VARCHAR(25),
ocupacao VARCHAR(25),
data_nascimento DATE,
endereco_id INTEGER REFERENCES endereco(id)
);

CREATE TABLE contato(
id serial PRIMARY KEY,
descricao VARCHAR(255) NOT NULL,
tipo VARCHAR(255) NOT NULL,
cliente_id INTEGER REFERENCES cliente(id)
);

CREATE TABLE pagamento(
id serial PRIMARY KEY NOT NULL,
valor DOUBLE PRECISION NOT NULL,
forma_pagamento VARCHAR(20)
);

CREATE TABLE venda(
id serial PRIMARY KEY NOT NULL,
desc_geral DOUBLE PRECISION,
quant_parc INTEGER,
valor_total DOUBLE PRECISION,
data_venda DATE,
pagamento_id INTEGER REFERENCES pagamento(id),
cliente_id INTEGER REFERENCES cliente(id),
funcionario_id INTEGER REFERENCES funcionario(id)
);

CREATE TABLE fornecedor(
id serial PRIMARY KEY NOT NULL,
nome_fantasia VARCHAR(255) NOT NULL,
razao_social VARCHAR(255) NOT NULL,
cnpj VARCHAR(14) UNIQUE NOT NULL,
estado VARCHAR(2),
cidade VARCHAR(60)
);

CREATE TABLE item_produto(
id serial PRIMARY KEY NOT NULL,
perecivel BOOLEAN,
status BOOLEAN,
quantidade INTEGER,
cod_barras VARCHAR(255),
unidade_medida DOUBLE PRECISION,
data_fabricacao DATE,
data_validade DATE,
data_compra DATE,
preco_unidade DOUBLE PRECISION,
preco_atacado DOUBLE PRECISION,
preco_varejo DOUBLE PRECISION,
porc_atacado DOUBLE PRECISION,
porc_varejo DOUBLE PRECISION, 
fornecedor_id INTEGER REFERENCES fornecedor(id),
produto_id INTEGER REFERENCES produto(id)
);

CREATE TABLE item_venda(
id serial PRIMARY KEY NOT NULL,
valor_desc DOUBLE PRECISION,
porc_promoc DOUBLE PRECISION,
promocao BOOLEAN,
tipo VARCHAR(255),
quant INTEGER,
valor_item DOUBLE PRECISION,
desconto BOOLEAN,
venda_id INTEGER REFERENCES venda(id),
item_produro_id INTEGER REFERENCES item_produto(id)
);

CREATE TABLE parcela(
id serial PRIMARY KEY NOT NULL,
valor DOUBLE PRECISION,
tipo VARCHAR(255),
numero INTEGER,
data_vencimento DATE,
cliente_id INTEGER REFERENCES cliente(id) NOT NULL,
funcionario_id INTEGER REFERENCES funcionario(id) NOT NULL,
venda_id INTEGER REFERENCES venda(id) NOT NULL
);
