CREATE TABLE endereco(
id serial PRIMARY KEY NOT NULL,
rua VARCHAR(255) NOT NULL,
cep VARCHAR(9) NOT NULL,
numero VARCHAR(20) NOT NULL,
bairro VARCHAR(255) NOT NULL,
cidade VARCHAR(255) NOT NULL,
estado VARCHAR(2) NOT NULL
);

CREATE TABLE funcionario(
id serial PRIMARY KEY NOT NULL,
nome VARCHAR(255) NOT NULL,
cpf VARCHAR(14) UNIQUE NOT NULL,
cargo VARCHAR(255) NOT NULL,
login VARCHAR(50) UNIQUE NOT NULL,
senha VARCHAR(25) NOT NULL
);

CREATE TABLE caixa(
id serial PRIMARY KEY NOT NULL,
entrada DOUBLE PRECISION,	
saida DOUBLE PRECISION,
saldo DOUBLE PRECISION,
funcionario_id INTEGER REFERENCES funcionario(id),
data_abertura DATE,
data_fechamento DATE
);

CREATE TABLE produto(
id serial PRIMARY KEY,
Nome VARCHAR(255) NOT NULL,
marca VARCHAR(255) NOT NULL,
descricao VARCHAR(255) NOT NULL
);

CREATE TABLE cliente(
id serial PRIMARY KEY,
nome VARCHAR(255) NOT NULL,
cpf VARCHAR(14) UNIQUE NOT NULL,
sexo VARCHAR(20),
estado_civil VARCHAR(25),
ocupacao VARCHAR(25),
data_nascimento DATE,
endereco_id INTEGER REFERENCES endereco(id)
);

CREATE TABLE contato(
id serial PRIMARY KEY,
descricao VARCHAR(255) NOT NULL,
tipo VARCHAR(255) NOT NULL,
cliente_id INTEGER REFERENCES cliente(id)
);

CREATE TABLE venda(
id serial PRIMARY KEY NOT NULL,
valor_total DOUBLE PRECISION,
desc_geral DOUBLE PRECISION,
valor_troco DOUBLE PRECISION,
valor_recebido DOUBLE PRECISION,
data_venda DATE,
cliente_id INTEGER REFERENCES cliente(id),
funcionario_id INTEGER REFERENCES funcionario(id),
caixa_id INTEGER REFERENCES caixa(id)
);

CREATE TABLE pagamento(
id serial PRIMARY KEY NOT NULL,
valor DOUBLE PRECISION NOT NULL,
data_vencimento DATE,
numero INTEGER,
forma_pagamento VARCHAR(40),
cliente_id INTEGER REFERENCES cliente(id),
venda_id INTEGER REFERENCES venda(id),
status boolean
);

CREATE TABLE fornecedor(
id serial PRIMARY KEY NOT NULL,
nome_fantasia VARCHAR(255) NOT NULL,
razao_social VARCHAR(255) NOT NULL,
cnpj VARCHAR(18) UNIQUE NOT NULL,
estado VARCHAR(2),
cidade VARCHAR(60)
);

CREATE TABLE item_produto(
id serial PRIMARY KEY NOT NULL,
cod_barras VARCHAR(255) UNIQUE NOT NULL,
unidade_medida DOUBLE PRECISION,
data_fabricacao DATE,
data_validade DATE,
data_compra DATE,
preco_unidade DOUBLE PRECISION,
porc_atacado DOUBLE PRECISION,
porc_varejo DOUBLE PRECISION,
quantidade INTEGER,
vendidos INTEGER,
perecivel BOOLEAN,
status BOOLEAN,
fornecedor_id INTEGER REFERENCES fornecedor(id),
produto_id INTEGER REFERENCES produto(id)
);

CREATE TABLE item_venda(
id serial PRIMARY KEY NOT NULL,
valor_desc DOUBLE PRECISION,
porc_promoc DOUBLE PRECISION,
promocao BOOLEAN,
tipo VARCHAR(255),
quant INTEGER,
valor_item DOUBLE PRECISION,
desconto BOOLEAN,
venda_id INTEGER REFERENCES venda(id),
item_produto_id INTEGER REFERENCES item_produto(id)
);

CREATE TABLE contas_a_pagar(
id serial PRIMARY KEY NOT NULL,
descricao VARCHAR(255),
valor DOUBLE PRECISION,
valor_quitado DOUBLE PRECISION,
qtd_pgmt INTEGER,
qtd_paga INTEGER,
data_pagamento DATE,
data_vencimento DATE,
caixa_id INTEGER REFERENCES caixa(id),
fornecedor_id INTEGER REFERENCES fornecedor(id),
status BOOLEAN
);

CREATE TABLE contas_a_receber(
id serial PRIMARY KEY NOT NULL,
descr VARCHAR(255),
valor_total DOUBLE PRECISION,
valor_pago DOUBLE PRECISION,
qtd_pagmt INTEGER,
qtd_pago INTEGER,
saldo DOUBLE PRECISION,
data_pag DATE,
data_venc DATE,
caixa_id INTEGER REFERENCES caixa(id),
venda_id INTEGER REFERENCES venda(id),
ativo BOOLEAN
);